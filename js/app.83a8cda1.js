(function(e){function t(t){for(var r,n,l=t[0],i=t[1],c=t[2],d=0,p=[];d<l.length;d++)n=l[d],s[n]&&p.push(s[n][0]),s[n]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);u&&u(t);while(p.length)p.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],r=!0,l=1;l<a.length;l++){var i=a[l];0!==s[i]&&(r=!1)}r&&(o.splice(t--,1),e=n(n.s=a[0]))}return e}var r={},s={app:0},o=[];function n(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=r,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=i;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"2b56":function(e,t,a){"use strict";var r=a("f6b3"),s=a.n(r);s.a},"56d7":function(e,t,a){"use strict";a.r(t);var r=a("2b0e"),s=a("bb71");a("da64");r["a"].use(s["a"],{iconfont:"md",theme:{}});var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{staticClass:"grey lighten-4"},[a("Navbar"),a("v-content",{staticClass:"mx-4 mb-4"},[a("router-view")],1)],1)},n=[],l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",[a("v-snackbar",{attrs:{timeout:4e3,top:"",color:"success"},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[a("span",[e._v("Awesome! You added a new project.")]),a("v-btn",{attrs:{color:"white",flat:""},on:{click:function(t){e.snackbar=!1}}},[e._v("Close")])],1),a("v-toolbar",{attrs:{flat:"",app:""}},[a("v-toolbar-side-icon",{staticClass:"grey--text",on:{click:function(t){e.drawer=!e.drawer}}}),a("v-toolbar-title",{staticClass:"text-uppercase grey--text"}),a("v-spacer"),a("v-menu",{attrs:{"offset-y":""}},[a("v-btn",{attrs:{slot:"activator",flat:"",color:"grey"},slot:"activator"},[a("v-icon",{attrs:{left:""}},[e._v("expand_more")]),a("span",[e._v("Menu")])],1),a("v-list",e._l(e.links,function(t){return a("v-list-tile",{key:t.text,attrs:{router:"",to:t.route}},[a("v-list-tile-title",[e._v(e._s(t.text))])],1)}))],1),e.loggedIn?e._e():a("v-btn",{attrs:{flat:"",color:"grey",router:"",to:{name:"login"}}},[a("span",[e._v("Log In")]),a("v-icon",{attrs:{right:""}},[e._v("exit_to_app")])],1),e.loggedIn?a("v-btn",{attrs:{flat:"",color:"grey",router:"",to:{name:"logout"}}},[a("span",[e._v("Sign Out")]),a("v-icon",{attrs:{right:""}},[e._v("exit_to_app")])],1):e._e()],1),e.loggedIn?a("v-navigation-drawer",{staticClass:"primary",attrs:{app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-container",{attrs:{fluid:"","grid-list-xl":""}},[a("v-layout",{attrs:{wrap:"","align-center":""}},[a("v-flex",{attrs:{"d-flex":""}},[a("v-select",{attrs:{items:e.applications,"item-text":"name",label:"アプリケーション選択",solo:""},on:{change:function(t){e.selectApplication(t)}},model:{value:e.selectedApplication,callback:function(t){e.selectedApplication=t},expression:"selectedApplication"}})],1)],1)],1),a("v-list",e._l(e.links,function(t){return a("v-list-tile",{key:t.text,attrs:{router:"",to:t.route}},[a("v-list-tile-action",[a("v-icon",{staticClass:"white--text"},[e._v(e._s(t.icon))])],1),a("v-list-tile-content",[a("v-list-tile-title",{staticClass:"white--text"},[e._v(e._s(t.text))])],1)],1)}))],1):e._e()],1)},i=[],c=a("bc3a"),u=a.n(c),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{"max-width":"600px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-btn",{staticClass:"success",attrs:{slot:"activator",flat:""},slot:"activator"},[e._v("Add New Project")]),a("v-card",[a("v-card-title",[a("h2",[e._v("Add a New Project")])]),a("v-card-text",[a("v-form",{ref:"form",staticClass:"px-3"},[a("v-text-field",{attrs:{label:"Title","prepend-icon":"folder",rules:e.inputRules},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}}),a("v-textarea",{attrs:{label:"Information","prepend-icon":"edit",rules:e.inputRules},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}}),a("v-menu",{attrs:{"close-on-content-click":!1},model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-text-field",{attrs:{slot:"activator",rules:e.inputRules,value:e.formattedDate,clearable:"",label:"Due date","prepend-icon":"date_range"},slot:"activator"}),a("v-date-picker",{on:{change:function(t){e.menu=!1}},model:{value:e.due,callback:function(t){e.due=t},expression:"due"}})],1),a("v-spacer"),a("v-btn",{staticClass:"success mx-0 mt-3",attrs:{flat:"",loading:e.loading},on:{click:e.submit}},[e._v("Add Project")])],1)],1)],1)],1)},p=[],m=a("70f2"),v=a.n(m),h=a("59ca"),f=a.n(h),g=(a("e71f"),{apiKey:"AIzaSyDyx6ZJUPA-xs_BJMkY55mb1RDvivRD0SY",authDomain:"nn-veutify-files.firebaseapp.com",databaseURL:"https://nn-veutify-files.firebaseio.com",projectId:"nn-veutify-files",storageBucket:"nn-veutify-files.appspot.com",messagingSenderId:"494018042073"});f.a.initializeApp(g);const _=f.a.firestore();_.settings({timestampsInSnapshots:!0});var b=_,y={data(){return{title:"",content:"",due:null,menu:!1,inputRules:[e=>!!e||"This field is required",e=>e.length>=3||"Minimum length is 3 characters"],loading:!1,dialog:!1}},methods:{submit(){if(this.$refs.form.validate()){this.loading=!0;const e={title:this.title,content:this.content,due:v()(this.due,"Do MMM YYYY"),person:"The Net Ninja",status:"ongoing"};b.collection("projects").add(e).then(()=>{this.loading=!1,this.dialog=!1,this.$emit("projectAdded")})}}},computed:{formattedDate(){return console.log(this.due),this.due?v()(this.due,"Do MMM YYYY"):""}}},x=y,k=a("2877"),w=a("6544"),V=a.n(w),C=a("8336"),T=a("b0af"),F=a("99d9"),S=a("12b2"),A=a("2e4b"),j=a("169a"),P=a("4bd4"),I=a("e449"),$=a("9910"),L=a("2677"),D=a("a844"),q=Object(k["a"])(x,d,p,!1,null,null,null),Q=q.exports;V()(q,{VBtn:C["a"],VCard:T["a"],VCardText:F["b"],VCardTitle:S["a"],VDatePicker:A["a"],VDialog:j["a"],VForm:P["a"],VMenu:I["a"],VSpacer:$["a"],VTextField:L["a"],VTextarea:D["a"]});var R={components:{Popup:Q},data(){return{drawer:!0,links:[{icon:"format_list_bulleted",text:"アプリケーション一覧",route:"/applications"},{icon:"fiber_new",text:"アプリケーション追加",route:"/applications/add"},{icon:"settings",text:"フォロー設定",route:"/followsetting"}],snackbar:!1,applications:[],selectedApplication:null}},computed:{loggedIn(){return this.$store.getters.loggedIn},loggedInFunction:function(){return this.$store.state.loggedIn}},watch:{loggedInFunction(){this.$nextTick(()=>{this.retrieveApplication()})}},methods:{retrieveApplication(){return new Promise((e,t)=>{u.a.defaults.headers.common["Authorization"]="JWT "+localStorage.getItem("access_token"),u.a.get("/dashboard/applications/").then(e=>{this.applications=e.data,this.selectedApplication=this.applications[Object.keys(this.applications)[0]],this.selectApplication(this.applications[Object.keys(this.applications)[0]].name)}).catch(e=>{403===e.response.status&&(this.$store.dispatch("destroyToken"),this.$router.push({name:"login"}))})})},selectApplication(e){const t=this.applications.filter(t=>t.name===e)[0].id;this.$store.dispatch("selectApplication",t)}},created:function(){this.$store.getters.loggedIn&&this.retrieveApplication()}},E=R,O=a("a523"),K=a("0e8f"),N=a("132d"),B=a("a722"),M=a("8860"),z=a("ba95"),Y=a("40fe"),J=a("5d23"),W=a("f774"),U=a("b56d"),G=a("2db4"),Z=a("71d9"),H=a("706c"),X=a("2a7f"),ee=Object(k["a"])(E,l,i,!1,null,null,null),te=ee.exports;V()(ee,{VBtn:C["a"],VContainer:O["a"],VFlex:K["a"],VIcon:N["a"],VLayout:B["a"],VList:M["a"],VListTile:z["a"],VListTileAction:Y["a"],VListTileContent:J["a"],VListTileTitle:J["c"],VMenu:I["a"],VNavigationDrawer:W["a"],VSelect:U["a"],VSnackbar:G["a"],VSpacer:$["a"],VToolbar:Z["a"],VToolbarSideIcon:H["a"],VToolbarTitle:X["a"]});var ae={components:{Navbar:te},name:"App",data(){return{}}},re=ae,se=a("7496"),oe=a("549c"),ne=Object(k["a"])(re,o,n,!1,null,null,null),le=ne.exports;V()(ne,{VApp:se["a"],VContent:oe["a"]});var ie=a("8c4f"),ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard"},[a("h1",{staticClass:"subheading grey--text"},[e._v("Dashboard")]),a("v-container",{staticClass:"my-5"},[a("v-layout",{staticClass:"mb-3",attrs:{row:"","justify-start":""}},[a("v-tooltip",{attrs:{top:""}},[a("v-btn",{attrs:{slot:"activator",small:"",flat:"",color:"grey"},on:{click:function(t){e.sortBy("title")}},slot:"activator"},[a("v-icon",{attrs:{small:"",left:""}},[e._v("folder")]),a("span",{staticClass:"caption text-lowercase"},[e._v("By project name")])],1),a("span",[e._v("Sort by project name")])],1),a("v-tooltip",{attrs:{top:""}},[a("v-btn",{attrs:{slot:"activator",small:"",flat:"",color:"grey"},on:{click:function(t){e.sortBy("person")}},slot:"activator"},[a("v-icon",{attrs:{small:"",left:""}},[e._v("person")]),a("span",{staticClass:"caption text-lowercase"},[e._v("By Person")])],1),a("span",[e._v("Sort by project author")])],1)],1),e._l(e.projects,function(t){return a("v-card",{key:t.title,attrs:{flat:""}},[a("v-layout",{class:"pa-3 project "+t.status,attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",md6:""}},[a("div",{staticClass:"caption grey--text"},[e._v("Project title")]),a("div",[e._v(e._s(t.title))])]),a("v-flex",{attrs:{xs6:"",sm4:"",md2:""}},[a("div",{staticClass:"caption grey--text"},[e._v("Person")]),a("div",[e._v(e._s(t.person))])]),a("v-flex",{attrs:{xs6:"",sm4:"",md2:""}},[a("div",{staticClass:"caption grey--text"},[e._v("Due by")]),a("div",[e._v(e._s(t.due))])]),a("v-flex",{attrs:{xs2:"",sm4:"",md2:""}},[a("div",{staticClass:"right"},[a("v-chip",{class:t.status+" white--text my-2 caption",attrs:{small:""}},[e._v(e._s(t.status))])],1)])],1),a("v-divider")],1)})],2)],1)},ue=[],de={data(){return{projects:[]}},methods:{sortBy(e){this.projects.sort((t,a)=>t[e]<a[e]?-1:1)}},created(){b.collection("projects").onSnapshot(e=>{const t=e.docChanges();t.forEach(e=>{"added"===e.type&&this.projects.push({...e.doc.data(),id:e.doc.id})})})}},pe=de,me=(a("2b56"),a("cc20")),ve=a("ce7e"),he=a("3a2f"),fe=Object(k["a"])(pe,ce,ue,!1,null,null,null),ge=fe.exports;V()(fe,{VBtn:C["a"],VCard:T["a"],VChip:me["a"],VContainer:O["a"],VDivider:ve["a"],VFlex:K["a"],VIcon:N["a"],VLayout:B["a"],VTooltip:he["a"]});var _e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"projects"},[a("h1",{staticClass:"subheading grey--text"},[e._v("Projects")]),a("v-container",{staticClass:"my-5"},[a("v-expansion-panel",e._l(e.myProjects,function(t){return a("v-expansion-panel-content",{key:t.title},[a("div",{staticClass:"py-1",attrs:{slot:"header"},slot:"header"},[e._v(e._s(t.title))]),a("v-card",[a("v-card-text",{staticClass:"px-4 grey--text"},[a("div",{staticClass:"font-weight-bold"},[e._v("Due by "+e._s(t.due))]),a("div",[e._v(e._s(t.content))])])],1)],1)}))],1)],1)},be=[],ye={data(){return{projects:[]}},computed:{myProjects(){return this.projects.filter(e=>{return"The Net Ninja"===e.person&&"complete"!=e.status})}},created(){b.collection("projects").onSnapshot(e=>{const t=e.docChanges();t.forEach(e=>{"added"===e.type&&this.projects.push({...e.doc.data(),id:e.doc.id})})})}},xe=ye,ke=a("cd55"),we=a("49e2"),Ve=Object(k["a"])(xe,_e,be,!1,null,null,null),Ce=Ve.exports;V()(Ve,{VCard:T["a"],VCardText:F["b"],VContainer:O["a"],VExpansionPanel:ke["a"],VExpansionPanelContent:we["a"]});var Te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"team"},[a("h1",{staticClass:"subheading grey--text"},[e._v("Team")]),a("v-container",{staticClass:"my-5"},[a("v-layout",{attrs:{row:"",wrap:""}},e._l(e.team,function(t){return a("v-flex",{key:t.name,attrs:{xs12:"",sm6:"",md4:"",lg3:""}},[a("v-card",{staticClass:"text-xs-center ma-3",attrs:{flat:""}},[a("v-responsive",{staticClass:"pt-4"},[a("v-avatar",{staticClass:"grey lighten-2",attrs:{size:"100"}},[a("img",{attrs:{src:t.avatar}})])],1),a("v-card-text",[a("div",{staticClass:"subheading"},[e._v(e._s(t.name))]),a("div",{staticClass:"grey--text"},[e._v(e._s(t.role))])]),a("v-card-actions",[a("v-btn",{attrs:{flat:"",color:"grey"}},[a("v-icon",{attrs:{small:"",left:""}},[e._v("message")]),a("span",{},[e._v("Message")])],1)],1)],1)],1)}))],1)],1)},Fe=[],Se={data(){return{team:[{name:"The Net Ninja",role:"Web developer",avatar:"/avatar-1.png"},{name:"Ryu",role:"Graphic designer",avatar:"/avatar-2.png"},{name:"Chun Li",role:"Web developer",avatar:"/avatar-3.png"},{name:"Gouken",role:"Social media maverick",avatar:"/avatar-4.png"},{name:"Yoshi",role:"Sales guru",avatar:"/avatar-5.png"}]}}},Ae=Se,je=a("8212"),Pe=a("6b53"),Ie=Object(k["a"])(Ae,Te,Fe,!1,null,null,null),$e=Ie.exports;V()(Ie,{VAvatar:je["a"],VBtn:C["a"],VCard:T["a"],VCardActions:F["a"],VCardText:F["b"],VContainer:O["a"],VFlex:K["a"],VIcon:N["a"],VLayout:B["a"],VResponsive:Pe["a"]});var Le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-content",[a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-toolbar-title",[e._v("Login form")]),a("v-spacer")],1),a("v-card-text",[a("v-form",{attrs:{id:"registration-form"},on:{submit:function(t){return t.preventDefault(),e.registration(t)}}},[e.errorCredentials?a("v-alert",{attrs:{value:!0,color:"error",icon:"warning",outline:""}},[e._v(e._s(e.errorCredentials))]):e._e(),a("v-text-field",{attrs:{id:"email","prepend-icon":"email",name:"email",label:"メールアドレス",type:"email","error-messages":e.errorEmail},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-text-field",{attrs:{id:"password1","prepend-icon":"lock",name:"password1",label:"パスワード",type:"password","error-messages":e.errorPassword1},model:{value:e.password1,callback:function(t){e.password1=t},expression:"password1"}}),a("v-text-field",{attrs:{id:"password2","prepend-icon":"lock",name:"password2",label:"パスワード（確認用）",type:"password","error-messages":e.errorPassword2},model:{value:e.password2,callback:function(t){e.password2=t},expression:"password2"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",type:"submit",form:"registration-form"}},[e._v("会員登録")])],1)],1)],1)],1)],1)],1)},De=[],qe={name:"registration",data(){return{email:"",password1:"",password1:"",errorEmail:"",errorPassword1:"",errorPassword2:"",errorCredentials:""}},methods:{registration(){this.$store.dispatch("register",{email:this.email,password1:this.password1,password2:this.password2}).then(e=>{this.$router.push({name:"applicationList"})}).catch(e=>{this.errorCredentials="",this.errorEmail=e.response.data.email,this.errorPassword1=e.response.data.password1,this.errorPassword2=e.response.data.password2,this.errorCredentials=e.response.data.non_field_errors[0],console.log(e.response)})}}},Qe=qe,Re=a("0798"),Ee=Object(k["a"])(Qe,Le,De,!1,null,null,null),Oe=Ee.exports;V()(Ee,{VAlert:Re["a"],VBtn:C["a"],VCard:T["a"],VCardActions:F["a"],VCardText:F["b"],VContainer:O["a"],VContent:oe["a"],VFlex:K["a"],VForm:P["a"],VLayout:B["a"],VSpacer:$["a"],VTextField:L["a"],VToolbar:Z["a"],VToolbarTitle:X["a"]});var Ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-content",[a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-toolbar-title",[e._v("Login form")]),a("v-spacer")],1),a("v-card-text",[a("v-form",{attrs:{id:"login-form"},on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[e.errorCredentials?a("v-alert",{attrs:{value:!0,color:"error",icon:"warning",outline:""}},[e._v(e._s(e.errorCredentials))]):e._e(),a("v-text-field",{attrs:{id:"email","prepend-icon":"email",name:"email",label:"Login",type:"email","error-messages":e.errorEmail},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-text-field",{attrs:{id:"password","prepend-icon":"lock",name:"password",label:"Password",type:"password","error-messages":e.errorPassword},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",type:"submit",form:"login-form"}},[e._v("ログイン")])],1)],1)],1)],1)],1)],1)},Ne=[],Be={name:"login",data(){return{email:"",password:"",errorEmail:"",errorPassword:"",errorCredentials:""}},methods:{login(){this.$store.dispatch("retrieveToken",{email:this.email,password:this.password}).then(e=>{this.$router.push({name:"applicationList"})}).catch(e=>{this.errorCredentials="",this.errorEmail=e.response.data.email,this.errorPassword=e.response.data.password,this.errorCredentials=e.response.data.non_field_errors[0],console.log(e.response)})}}},Me=Be,ze=Object(k["a"])(Me,Ke,Ne,!1,null,null,null),Ye=ze.exports;V()(ze,{VAlert:Re["a"],VBtn:C["a"],VCard:T["a"],VCardActions:F["a"],VCardText:F["b"],VContainer:O["a"],VContent:oe["a"],VFlex:K["a"],VForm:P["a"],VLayout:B["a"],VSpacer:$["a"],VTextField:L["a"],VToolbar:Z["a"],VToolbarTitle:X["a"]});var Je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},We=[],Ue={created(){this.$store.dispatch("destroyToken").then(e=>{this.$router.push({name:"home"})})}},Ge=Ue,Ze=Object(k["a"])(Ge,Je,We,!1,null,null,null),He=Ze.exports,Xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"applications"},[a("v-container",[a("v-expansion-panel",e._l(e.applications,function(t){return a("v-expansion-panel-content",{key:t.id},[a("div",{staticClass:"py-1",attrs:{slot:"header"},slot:"header"},[e._v(e._s(t.name))]),a("v-card",[a("v-list",{attrs:{"two-line":""}},[a("v-list-tile",[a("v-list-tile-content",{staticClass:"px-2"},[a("v-list-tile-sub-title",[e._v("Consumer Key")]),a("v-list-tile-title",[e._v(e._s(t.consumer_key))])],1)],1),a("v-list-tile",[a("v-list-tile-content",{staticClass:"px-2"},[a("v-list-tile-sub-title",[e._v("Consumer Secret")]),a("v-list-tile-title",[e._v(e._s(t.consumer_secret))])],1)],1),a("v-list-tile",[a("v-list-tile-content",{staticClass:"px-2"},[a("v-list-tile-sub-title",[e._v("Access Token")]),a("v-list-tile-title",[e._v(e._s(t.access_token))])],1)],1),a("v-list-tile",[a("v-list-tile-content",{staticClass:"px-2"},[a("v-list-tile-sub-title",[e._v("Access Token Secret")]),a("v-list-tile-title",[e._v(e._s(t.access_token_secret))])],1)],1)],1),a("v-btn",{staticClass:"ml-3 mb-3",attrs:{color:"",router:"",to:{name:"applicationDetail",params:{id:t.id}}}},[e._v("編集する")])],1)],1)})),a("v-btn",{staticClass:"mt-3",attrs:{color:"primary",router:"",to:{name:"applicationAdd"}}},[e._v("追加する")])],1)],1)},et=[],tt={name:"Application",data(){return{applications:[],id:[],name:"",consumerKey:"",consumerSecret:"",accessToken:"",accessTokenSecret:""}},methods:{retrieveApplication(){return new Promise((e,t)=>{u.a.defaults.headers.common["Authorization"]="JWT "+localStorage.getItem("access_token"),u.a.get("/dashboard/applications/").then(e=>{this.applications=e.data}).catch(e=>{403===e.response.status&&(this.$store.dispatch("destroyToken"),this.$router.push({name:"login"}))})})}},created:function(){this.retrieveApplication()}},at=tt,rt=Object(k["a"])(at,Xe,et,!1,null,null,null),st=rt.exports;V()(rt,{VBtn:C["a"],VCard:T["a"],VContainer:O["a"],VExpansionPanel:ke["a"],VExpansionPanelContent:we["a"],VList:M["a"],VListTile:z["a"],VListTileContent:J["a"],VListTileSubTitle:J["b"],VListTileTitle:J["c"]});var ot=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-card",[a("v-container",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{rules:e.nameRules,label:"Application Name",required:"","error-messages":e.errorName},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("v-text-field",{attrs:{rules:e.nameRules,label:"Consumer Key",required:"","error-messages":e.errorConsumerKey},model:{value:e.consumerKey,callback:function(t){e.consumerKey=t},expression:"consumerKey"}}),a("v-text-field",{attrs:{rules:e.nameRules,label:"Consumer Secret",required:"","error-messages":e.errorConsumerSecret},model:{value:e.consumerSecret,callback:function(t){e.consumerSecret=t},expression:"consumerSecret"}}),a("v-text-field",{attrs:{rules:e.nameRules,label:"Access Token",required:"","error-messages":e.errorAccessToken},model:{value:e.accessToken,callback:function(t){e.accessToken=t},expression:"accessToken"}}),a("v-text-field",{attrs:{rules:e.nameRules,label:"Access Token Secret",required:"","error-messages":e.errorAccessTokenSecret},model:{value:e.accessTokenSecret,callback:function(t){e.accessTokenSecret=t},expression:"accessTokenSecret"}}),a("v-btn",{attrs:{router:"",to:{name:"applicationList"}}},[e._v("キャンセル")]),a("v-btn",{attrs:{disabled:!e.valid,color:"primary"},on:{click:e.submit}},[e._v("保存する")])],1)],1)],1)],1)},nt=[],lt={name:"ApplicationAdd",data(){return{valid:!1,id:[],name:"",consumerKey:"",consumerSecret:"",accessToken:"",accessTokenSecret:"",nameRules:[e=>!!e||"This field is required"],errorName:"",errorConsumerKey:"",errorConsumerSecret:"",errorAccessToken:"",errorAccessTokenSecret:""}},methods:{submit(){return new Promise((e,t)=>{u.a.defaults.headers.common["Authorization"]="JWT "+localStorage.getItem("access_token"),u.a.post("/dashboard/applications/",{name:this.name,consumer_key:this.consumerKey,consumer_secret:this.consumerSecret,access_token:this.accessToken,access_token_secret:this.accessTokenSecret}).then(e=>{console.log(e.data),this.$router.push({name:"applicationList"})}).catch(e=>{403===e.response.status?this.$router.push({name:"login"}):400===e.response.status&&(this.errorName=e.response.data.name,this.errorConsumerKey=e.response.data.consumer_key,this.errorConsumerSecret=e.response.data.consumer_secret,this.errorAccessToken=e.response.data.access_token,this.errorAccessTokenSecret=e.response.data.access_token_secret)})})}}},it=lt,ct=Object(k["a"])(it,ot,nt,!1,null,null,null),ut=ct.exports;V()(ct,{VBtn:C["a"],VCard:T["a"],VContainer:O["a"],VForm:P["a"],VTextField:L["a"]});var dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-card",[a("v-container",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{rules:e.nameRules,label:"Application Name",required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("v-text-field",{attrs:{rules:e.nameRules,label:"Consumer Key",required:""},model:{value:e.consumerKey,callback:function(t){e.consumerKey=t},expression:"consumerKey"}}),a("v-text-field",{attrs:{rules:e.nameRules,label:"Consumer Secret",required:""},model:{value:e.consumerSecret,callback:function(t){e.consumerSecret=t},expression:"consumerSecret"}}),a("v-text-field",{attrs:{rules:e.nameRules,label:"Access Token",required:""},model:{value:e.accessToken,callback:function(t){e.accessToken=t},expression:"accessToken"}}),a("v-text-field",{attrs:{rules:e.nameRules,label:"Access Token Secret",required:""},model:{value:e.accessTokenSecret,callback:function(t){e.accessTokenSecret=t},expression:"accessTokenSecret"}}),a("v-btn",{attrs:{router:"",to:{name:"applicationList"}}},[e._v("キャンセル")]),a("v-btn",{attrs:{disabled:!e.valid,color:"primary"},on:{click:e.updateApplication}},[e._v("保存する")])],1)],1)],1)],1)},pt=[],mt={name:"ApplicationDetail",props:["id"],data(){return{valid:!1,name:"",consumerKey:"",consumerSecret:"",accessToken:"",accessTokenSecret:"",nameRules:[e=>!!e||"This field is required"]}},methods:{retrieveApplication(){return new Promise((e,t)=>{u.a.defaults.headers.common["Authorization"]="JWT "+localStorage.getItem("access_token"),u.a.get("/dashboard/applications/"+this.id+"/").then(e=>{this.Applications=e.data,this.name=e.data.name,this.consumerKey=e.data.consumer_key,this.consumerSecret=e.data.consumer_secret,this.accessToken=e.data.access_token,this.accessTokenSecret=e.data.access_token_secret}).catch(e=>{403===e.response.status&&this.$router.push({name:"login"})})})},updateApplication(){return new Promise((e,t)=>{u.a.defaults.headers.common["Authorization"]="JWT "+localStorage.getItem("access_token"),u.a.put("/dashboard/applications/"+this.id+"/",{name:this.name,consumer_key:this.consumerKey,consumer_secret:this.consumerSecret,access_token:this.accessToken,access_token_secret:this.accessTokenSecret}).then(e=>{this.Applications=e.data,this.name=e.data.name,this.consumerKey=e.data.consumer_key,this.consumerSecret=e.data.consumer_secret,this.accessToken=e.data.access_token,this.accessTokenSecret=e.data.access_token_secret,this.$router.push({name:"applicationList"})}).catch(e=>{403===e.response.status&&this.$router.push({name:"login"})})})}},created:function(){console.log(this.id),this.retrieveApplication()}},vt=mt,ht=Object(k["a"])(vt,dt,pt,!1,null,null,null),ft=ht.exports;V()(ht,{VBtn:C["a"],VCard:T["a"],VContainer:O["a"],VForm:P["a"],VTextField:L["a"]});var gt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("v-container",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-spacer"),a("v-btn",{staticClass:"mb-0",attrs:{primary:"",color:"primary"},on:{click:function(t){e.dialog=!0}}},[e._v("追加する")])],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.followFromQueryList,search:e.search,"rows-per-page-text":"","rows-per-page-items":[]},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"text-xs-center"},[e._v(e._s(t.item.query))]),a("td",{staticClass:"text-xs-center"},[e._v(e._s(t.item.maximum_follow_number))]),a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",on:{click:function(a){e.editFollowFromQuery(t.item.id)}}},[e._v("edit")]),a("v-icon",{on:{click:function(a){e.openDeleteDialog(t.item.id)}}},[e._v("delete")])],1)]}},{key:"pageText",fn:function(t){return[e._v(e._s(t.itemsLength)+" 件中 "+e._s(t.pageStart)+" 件目 〜 "+e._s(t.pageStop)+" 件目")]}}])},[a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[e._v('"'+e._s(e.search)+'" の検索結果なし')]),a("template",{slot:"no-data"},[e._v("No Data")])],2)],1),a("v-layout",{attrs:{row:"","justify-center":""}},[a("v-dialog",{attrs:{lazy:"",persistent:"","max-width":"600px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-form",{attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",[a("v-text-field",{attrs:{label:"検索クエリ",rules:e.queryRules,required:""},model:{value:e.selectedFollowFromQuery.query,callback:function(t){e.$set(e.selectedFollowFromQuery,"query",t)},expression:"selectedFollowFromQuery.query"}})],1),a("v-flex",[a("v-text-field",{attrs:{label:"フォロー数",rules:e.maximumFollowNumberRules},model:{value:e.selectedFollowFromQuery.maximum_follow_number,callback:function(t){e.$set(e.selectedFollowFromQuery,"maximum_follow_number",t)},expression:"selectedFollowFromQuery.maximum_follow_number"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:e.close}},[e._v("キャンセル")]),a("v-btn",{attrs:{color:"",flat:"",disabled:!e.valid},on:{click:e.save}},[e._v("保存する")])],1)],1)],1)],1)],1),a("v-layout",{attrs:{row:"","justify-center":""}},[a("v-dialog",{attrs:{lazy:"",persistent:"","max-width":"290px"},model:{value:e.deleteDialog,callback:function(t){e.deleteDialog=t},expression:"deleteDialog"}},[a("v-card",[a("v-card-text",[e._v("削除しますか？")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:e.deleteFollowFromQuery}},[e._v("削除")]),a("v-btn",{attrs:{color:"",flat:""},on:{click:e.close}},[e._v("キャンセル")])],1)],1)],1)],1)],1)},_t=[];u.a.defaults.headers.common["Authorization"]="JWT "+localStorage.getItem("access_token"),u.a.interceptors.response.use(function(e){return e},function(e){return 403===e.response.status?Vt.push({name:"login"}):400===e.response.status&&console.log("Error : "+response),e});var bt={name:"list",data(){return{followFromQueryList:[],headers:[{text:"検索クエリ",align:"center",value:"query"},{text:"フォロー数",align:"center",value:"maximum_follow_count"},{text:"操作",align:"center",value:"action",sortable:!1}],selectedFollowFromQuery:{id:-1,query:"",maximum_follow_count:""},defaultValue:{id:-1,query:"",maximum_follow_count:""},search:"",dialog:!1,deleteDialog:!1,valid:!1,queryRules:[e=>!!e||"検索クエリは必須です",e=>e.length<=128||"検索クエリは128文字までです"],maximumFollowNumberRules:[e=>/^[0-9]*$/.test(e)||"フォロー数は数値で入力してください"]}},methods:{retrieveFollowFromQuery(){return new Promise((e,t)=>{u.a.get("/dashboard/followfromquery/?application="+this.$store.getters.selectedApplicationId).then(e=>{this.followFromQueryList=e.data})})},createFollowFromQuery(e){return new Promise((t,a)=>{u.a.post("/dashboard/followfromquery/",{application:this.$store.getters.selectedApplicationId,query:e.query,maximum_follow_number:e.maximum_follow_number}).then(e=>{this.retrieveFollowFromQuery(),this.close()})})},updateFollowFromQuery(e){return new Promise((t,a)=>{u.a.put("/dashboard/followfromquery/"+e.id+"/",{application:this.$store.getters.selectedApplicationId,query:e.query,maximum_follow_number:e.maximum_follow_number}).then(e=>{this.retrieveFollowFromQuery(),this.close()})})},editFollowFromQuery(e){return new Promise((t,a)=>{u.a.get("/dashboard/followfromquery/"+e+"/").then(e=>{this.selectedFollowFromQuery=e.data,this.dialog=!0})})},openDeleteDialog(e){this.selectedFollowFromQuery.id=e,this.deleteDialog=!0},deleteFollowFromQuery(){return new Promise((e,t)=>{u.a.delete("/dashboard/followfromquery/"+this.selectedFollowFromQuery.id+"/").then(e=>{this.retrieveFollowFromQuery(),this.close()})})},save(){-1==this.selectedFollowFromQuery.id?this.createFollowFromQuery(this.selectedFollowFromQuery):this.updateFollowFromQuery(this.selectedFollowFromQuery)},close(){this.dialog=!1,this.deleteDialog=!1,setTimeout(()=>{this.selectedFollowFromQuery=Object.assign({},this.defaultValue)},500)}},computed:{formTitle(){return-1===this.selectedFollowFromQuery.id?"新規追加":"編集"},selectApplication:function(){return this.$store.state.selectedApplicationId}},watch:{selectApplication(){this.$nextTick(()=>{this.retrieveFollowFromQuery()})}},mounted(){this.retrieveFollowFromQuery()}},yt=bt,xt=a("8fea"),kt=Object(k["a"])(yt,gt,_t,!1,null,null,null),wt=kt.exports;V()(kt,{VAlert:Re["a"],VBtn:C["a"],VCard:T["a"],VCardActions:F["a"],VCardText:F["b"],VCardTitle:S["a"],VContainer:O["a"],VDataTable:xt["a"],VDialog:j["a"],VFlex:K["a"],VForm:P["a"],VIcon:N["a"],VLayout:B["a"],VSpacer:$["a"],VTextField:L["a"],VToolbar:Z["a"]}),r["a"].use(ie["a"]);var Vt=new ie["a"]({base:"",routes:[{path:"/",name:"dashboard",component:ge},{path:"/projects",name:"projects",component:Ce},{path:"/team",name:"team",component:$e},{path:"/registration",name:"registration",component:Oe},{path:"/login",name:"login",component:Ye},{path:"/logout",name:"logout",component:He},{path:"/applications",name:"applicationList",component:st},{path:"/applications/add",name:"applicationAdd",component:ut},{path:"/applications/:id",name:"applicationDetail",component:ft,props:!0},{path:"/followsetting",name:"followsetting",component:wt,props:!0}]}),Ct=a("2f62");r["a"].use(Ct["a"]),u.a.defaults.baseURL="http://127.0.0.1:8001/api/v1",u.a.defaults.baseURL="http://52.68.229.41/api/v1",u.a.defaults.headers.common["Authorization"]="Bearer "+localStorage.getItem("access_token");var Tt=new Ct["a"].Store({state:{token:localStorage.getItem("access_token")||null,selectedApplicationId:localStorage.getItem("selected_application_id")||null},getters:{loggedIn(e){return null!==e.token},selectedApplicationId(e){return e.selectedApplicationId}},mutations:{retrieveToken(e,t){e.token=t},destroyToken(e){e.token=null},selectApplication(e,t){e.selectedApplicationId=t}},actions:{register(e,t){return new Promise((a,r)=>{u.a.post("/rest-auth/registration/",{email:t.email,password1:t.password1,password2:t.password2}).then(t=>{const r=t.data.token;localStorage.setItem("access_token",r),e.commit("retrieveToken",r),a(t)}).catch(e=>{r(e)})})},destroyToken(e){if(e.getters.loggedIn)return new Promise((t,a)=>{u.a.post("/logout").then(a=>{localStorage.removeItem("access_token"),e.commit("destroyToken"),t(a)}).catch(t=>{localStorage.removeItem("access_token"),e.commit("destroyToken"),a(t)})})},retrieveToken(e,t){return new Promise((a,r)=>{u.a.post("/rest-auth/login/",{email:t.email,password:t.password}).then(t=>{const r=t.data.token;localStorage.setItem("access_token",r),e.commit("retrieveToken",r),a(t)}).catch(e=>{console.log(e),r(e)})})},selectApplication(e,t){e.commit("selectApplication",t),localStorage.setItem("selected_application_id",t)}}});r["a"].config.productionTip=!1,new r["a"]({router:Vt,store:Tt,render:e=>e(le)}).$mount("#app")},f6b3:function(e,t,a){}});
//# sourceMappingURL=app.83a8cda1.js.map